(this.webpackJsonpnewui=this.webpackJsonpnewui||[]).push([[0],{101:function(e,a,t){},108:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(12),c=t.n(l),o=(t(101),t(49),t(69),t(70)),s=t(36),i=t(143),m=t(146),u=t(148),d=t(149),h=t(150),p=t(110),f=t(163),b=t(151),E=t(162),g=t(152),x=t(161),y=t(153),v=t(154),k=t(155),N=t(156),S=t(157),w=t(158),j=t(159),O=t(160),C=t(79),T=t.n(C),P=t(14),I=t(31),A=t(80),B=t(145);var L=function(){var e=Object(A.a)({palette:{type:"dark"}}),a=Object(A.a)({palette:{type:"light"}}),t=Object(i.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},textfield:{fontFamily:"Arial, sans-serif",letterSpacing:"0.5px",lineHeight:"2rem",fontSize:"24px"},share:{paddingTop:"2rem"},accordion:{},submit:{marginTop:"32px",textAlign:"center"},grid:{paddingTop:"2rem",marginBottom:"2rem",fontWeight:200},griditem:{},heading:{margin:"auto",paddingBottom:"2rem"},nopadding:{paddingLeft:0},displayblock:{display:"block"},redcircle:{height:"25px",width:"25px",borderRadius:"50%",backgroundColor:"red",display:"inherit"},greencircle:{height:"25px",width:"25px",borderRadius:"50%",backgroundColor:"green",display:"inherit"},nodisplay:{display:"none"},circle:{paddingRight:"1rem"},explore:{textDecoration:"none"},tablebold:{fontWeight:"bold"},helpertext:{fontSize:"20px"},remove:{color:"red"},selection:{marginBottom:"1rem"}}})),l=Object(n.useState)(!1),c=Object(s.a)(l,2),C=c[0],L=c[1],M=Object(n.useState)([]),q=Object(s.a)(M,2),H=q[0],W=q[1],D=Object(n.useState)(!1),R=Object(s.a)(D,2),F=R[0],J=R[1],V=Object(n.useState)("cifs"),z=Object(s.a)(V,2),U=z[0],_=z[1],G=Object(n.useState)("default"),K=Object(s.a)(G,2),Q=K[0],X=K[1];Object(n.useEffect)((function(){fetch("/admin/shares").then((function(e){return e.json()})).then((function(e){console.log(e),W(e)})),fetch("/api/darkmode").then((function(e){return e.json()})).then((function(e){e&&L(!0)}))}),[]);var Y=[{label:"Anonymous Access",value:!1}],Z=t(),$=r.a.useState(!1),ee=Object(s.a)($,2),ae=ee[0],te=ee[1],ne=function(e){_(e.target.value)},re=function(e){X(e.target.value)},le=function(e){e.stopPropagation()},ce=function(e){return function(a){a.stopPropagation(),fetch("/admin/connect/".concat(H[e].sharename)).then((function(e){return e.text()})).then((function(a){if(console.log("Mounted: "+a),"0"===a){H[e].isconnected=!0;var t=Object(o.a)(H);console.log(t),W(t)}}))}},oe=function(){setTimeout(window.scroll({top:window.document.body.clientHeight,left:0,behavior:"smooth"}))};return r.a.createElement(B.a,{theme:C?e:a},r.a.createElement(m.a,{style:{boxShadow:"none"}},r.a.createElement(u.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement(P.b,{onSubmit:function(e,a){var t,n;if(!(t=e.sharename,n=e.sharepath,H.filter((function(e){return e.sharename!==t&&e.sharepath!==n})).length===H.length))return alert("Validation failed: duplicate entry for either share name or network location"),!1;void 0===e.sharetype&&(e.sharetype="cifs"),e.key=e.sharename,e.isconnected=!1,e.guest=F,e.smbver=Q;var r={sharename:e.sharename,sharetype:e.sharetype,sharepath:e.sharepath,guest:e.guest,username:e.username,password:e.password,smbver:e.smbver};console.log(r),fetch("/admin/addnetworkshare",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.text()})).then((function(t){"0"===t?(e.isconnected=!0,W([].concat(Object(o.a)(H),[e])),setTimeout(a.restart),oe()):alert("Sorry. Can't connect to share. Double-check network details")}))},render:function(e){var a=e.handleSubmit;return r.a.createElement("form",{onSubmit:a},r.a.createElement(h.a,{container:!0,className:Z.grid,spacing:3,direction:"column"},r.a.createElement(p.a,{component:"h1",variant:"h5",className:Z.heading},"Add Network Shares"),r.a.createElement(h.a,{item:!0,xs:12,className:Z.textfield},r.a.createElement(I.c,{type:"text",label:"Share Name",name:"sharename",helperText:"eg. Music",required:!0,variant:"outlined",margin:"normal",InputProps:{classes:{input:Z.textfield}},InputLabelProps:{classes:{label:Z.helpertext}},FormHelperTextProps:{className:Z.helpertext}})),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(I.c,{className:Z.textfield,label:"Network Location",name:"sharepath",helperText:"eg. //192.168.1.10/Music",required:!0,variant:"outlined",margin:"normal",InputProps:{classes:{input:Z.textfield}},InputLabelProps:{classes:{label:Z.helpertext}},FormHelperTextProps:{className:Z.helpertext},color:"primary"})),r.a.createElement(h.a,{item:!0,xs:12,className:Z.share},r.a.createElement(I.a,{label:"",name:"guest",required:!1,data:Y,checked:F,onChange:function(e){J(!F)}}),!F&&r.a.createElement("div",null,r.a.createElement(I.c,{className:Z.textfield,label:"Username",name:"username",helperText:"",required:!1,variant:"outlined",margin:"normal",InputProps:{classes:{input:Z.textfield}},color:"primary"}),r.a.createElement(I.c,{className:Z.textfield,label:"Password",name:"password",helperText:"",required:!1,variant:"outlined",margin:"normal",InputProps:{classes:{input:Z.textfield}},color:"primary"}))),r.a.createElement(h.a,{item:!0,xs:12,style:{paddingBottom:"1rem"}},r.a.createElement(I.b,{name:"sharetype",className:Z.selection,value:U,onChange:ne,label:"Share Type"},r.a.createElement(f.a,{value:"cifs"},"Windows Share"))),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(I.b,{name:"smbver",className:Z.selection,label:"SMB Version",value:Q,onChange:re,data:[{label:"Default",value:"default"},{label:"Legacy",value:"1.0"}]})),r.a.createElement(h.a,{item:!0,xs:12,className:Z.submit},r.a.createElement(b.a,{variant:"contained",color:"primary",type:"submit"},"Submit"))))}}),r.a.createElement(h.a,{container:!0,className:Z.grid},r.a.createElement(p.a,{className:Z.heading,component:"h1",variant:"h5"},"Network Shares"),H.map((function(e,a){return r.a.createElement(h.a,{key:e.sharename,item:!0,xs:12},r.a.createElement("div",{className:Z.nodisplay},e.isconnected),r.a.createElement(E.a,{key:e.sharename,expanded:ae===e.sharename,onChange:(t=e.sharename,function(e,a){te(!!a&&t)})},r.a.createElement(g.a,{expandIcon:r.a.createElement(T.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header",alignItems:"center"},r.a.createElement(x.a,{className:Z.circle},"                    ",e.isconnected&&r.a.createElement("span",{className:Z.greencircle}),!e.isconnected&&r.a.createElement("span",{className:Z.redcircle})),r.a.createElement(x.a,{alignItems:"center",width:"100%"},r.a.createElement(p.a,null,e.sharename)),r.a.createElement(x.a,{flexShrink:1},e.isconnected&&r.a.createElement("a",{className:Z.explore,href:"/".concat(e.sharename),target:"_blank"},r.a.createElement(b.a,{variant:"contained",color:"secondary",onClick:le},"Explore")),!e.isconnected&&r.a.createElement("a",{className:Z.explore},r.a.createElement(b.a,{color:"primary",onClick:ce(a)},"Connect")))),r.a.createElement(y.a,{className:Z.displayblock},r.a.createElement(v.a,{component:m.a},r.a.createElement(k.a,{stickyHeader:!0},r.a.createElement(N.a,null,r.a.createElement(S.a,null,r.a.createElement(w.a,{classes:{root:Z.tablebold}},"Property"),r.a.createElement(w.a,{classes:{root:Z.tablebold}},"Value"))),r.a.createElement(j.a,null,r.a.createElement(S.a,null,r.a.createElement(w.a,{classes:{root:Z.tablebold}},"Share Name"),r.a.createElement(w.a,null,e.sharename)),r.a.createElement(S.a,null,r.a.createElement(w.a,{classes:{root:Z.tablebold}},"Share Location"),r.a.createElement(w.a,null,e.sharepath)),r.a.createElement(S.a,null,r.a.createElement(w.a,{classes:{root:Z.tablebold}},"Share Type"),r.a.createElement(w.a,null,e.sharetype))))),r.a.createElement(b.a,{classes:{root:Z.remove},display:"inline-block",onClick:function(){!function(e){var a=H.filter((function(a){return a.sharename===e})),t=H.filter((function(a){return a.sharename!==e}));W(t),fetch("/admin/remove/"+a[0].sharename,{method:"post"}).then((function(e){return e.text()})).then((function(e){}))}(e.sharename)}},"Remove"))));var t}))),r.a.createElement(h.a,{container:!0,className:Z.grid,spacing:3,direction:"column"},r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(p.a,null,r.a.createElement(O.a,{href:"#",onclick:function(e){return e.preventDefault(),window.scroll({top:0,left:0,behavior:"smooth"}),!1}},"Add Another Network Share"))),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(p.a,null,r.a.createElement(O.a,{href:"/cast"},"Cast Music")))))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(L,null)),document.getElementById("root"))},96:function(e,a,t){e.exports=t(108)}},[[96,1,2]]]);
//# sourceMappingURL=main.c2691aee.chunk.js.map