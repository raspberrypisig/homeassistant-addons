(this.webpackJsonpnewui=this.webpackJsonpnewui||[]).push([[0],{103:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(12),c=t.n(l),o=(t(96),t(48),t(66),t(76)),i=t(58),s=t(138),m=t(140),d=t(142),h=t(143),u=t(144),p=t(105),f=t(147),E=t(157),g=t(146),b=t(158),y=t(148),x=t(156),k=t(149),v=t(150),N=t(145),S=t(151),w=t(152),j=t(153),C=t(154),O=t(155),T=t(67),A=t.n(T),I=t(14),P=t(43);var W=function(){var e=Object(s.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},textfield:{fontFamily:"Arial, sans-serif",letterSpacing:"0.5px",lineHeight:"2rem"},share:{paddingTop:"2rem"},accordion:{},submit:{marginTop:"32px",textAlign:"center"},grid:{marginTop:"2rem",marginBottom:"2rem",fontWeight:200},griditem:{},heading:{margin:"auto",paddingBottom:"2rem"},nopadding:{paddingLeft:0},displayblock:{display:"block"},redcircle:{height:"25px",width:"25px",borderRadius:"50%",backgroundColor:"red",display:"inherit"},greencircle:{height:"25px",width:"25px",borderRadius:"50%",backgroundColor:"green",display:"inherit"},nodisplay:{display:"none"},circle:{paddingRight:"1rem"},explore:{textDecoration:"none"},tablebold:{fontWeight:"bold"}}})),a=Object(n.useState)([]),t=Object(i.a)(a,2),l=t[0],c=t[1],T=Object(n.useState)(!1),W=Object(i.a)(T,2),q=W[0],J=W[1];Object(n.useEffect)((function(){fetch("/admin/shares").then((function(e){return e.json()})).then((function(e){console.log(e),c(e)}))}),[]);var M=[{label:"Anonymous Access",value:"false"}],R=e(),B=r.a.useState(!1),L=Object(i.a)(B,2),D=L[0],H=L[1],V=function(e){e.stopPropagation()},F=function(e){return function(a){a.stopPropagation();var t={sharename:l[e].sharename,sharetype:l[e].sharetype,sharepath:l[e].sharepath};fetch("/admin/connect",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.text()})).then((function(e){if(console.log("Mounted: "+e),"0"===e){t.isconnected=!0;var a=l.map((function(e){return e.sharename===t.sharename?t:e}));console.log(a),c(a)}}))}};return r.a.createElement(m.a,{component:"main",maxWidth:"xs"},r.a.createElement(d.a,null),r.a.createElement(I.b,{onSubmit:function(e){var a,t;if(!(a=e.sharename,t=e.sharepath,l.filter((function(e){return e.sharename!==a&&e.sharepath!==t})).length===l.length))return alert("Validation failed: duplicate entry for either share name or network location"),!1;console.log(e),void 0===e.sharetype&&(e.sharetype="cifs"),e.key=e.sharename,e.isconnected=!1;var n={sharename:e.sharename,sharetype:e.sharetype,sharepath:e.sharepath};console.log(n),fetch("/admin/addnetworkshare",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.text()})).then((function(a){"0"===a?(e.isconnected=!0,c([].concat(Object(o.a)(l),[e]))):alert("Sorry. Can't connect to share. Double-check network details")}))},render:function(e){var a=e.handleSubmit;return r.a.createElement("form",{onSubmit:a},r.a.createElement(h.a,{container:!0,className:R.grid},r.a.createElement(u.a,{component:"h1",variant:"h5",className:R.heading},"Add Network Shares"),r.a.createElement(h.a,{item:!0,xs:12,className:R.textfield},r.a.createElement(P.c,{type:"text",label:"Share Name",name:"sharename",helperText:"eg. Music",required:!0,variant:"outlined",margin:"normal",InputProps:{classes:{input:R.textfield}}})),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(P.c,{className:R.textfield,label:"Network Location",name:"sharepath",helperText:"eg. //192.168.1.10/Music",required:!0,variant:"outlined",margin:"normal",InputProps:{classes:{input:R.textfield}},color:"primary"})),r.a.createElement(h.a,{item:!0,xs:12,className:R.share},r.a.createElement(P.a,{label:"Anonymous Access",name:"guest",required:!1,data:M})),r.a.createElement(h.a,{item:!0,xs:12},r.a.createElement(p.a,{className:R.nopadding,onClick:function(){return J(!q)}},r.a.createElement(A.a,null)),r.a.createElement("span",{classes:R.nopadding},"Advanced Options"),r.a.createElement(f.a,{in:q},r.a.createElement(P.b,{name:"sharetype",label:"Share Type",value:"cifs",required:!0},r.a.createElement(E.a,{value:"cifs"},"Windows Share")))),r.a.createElement(h.a,{item:!0,xs:12,className:R.submit},r.a.createElement(g.a,{variant:"contained",color:"primary",type:"submit"},"Submit"))))}}),r.a.createElement(h.a,{container:!0,className:R.grid},r.a.createElement(u.a,{className:R.heading,component:"h1",variant:"h5"},"Network Shares"),l.map((function(e,a){return r.a.createElement(h.a,{key:e.sharename,item:!0,xs:12},r.a.createElement("div",{className:R.nodisplay},e.isconnected),r.a.createElement(b.a,{key:e.sharename,expanded:D===e.sharename,onChange:(t=e.sharename,function(e,a){H(!!a&&t)})},r.a.createElement(y.a,{expandIcon:r.a.createElement(A.a,null),"aria-controls":"panel1bh-content",id:"panel1bh-header",alignItems:"center"},r.a.createElement(x.a,{className:R.circle},"                    ",e.isconnected&&r.a.createElement("span",{className:R.greencircle}),!e.isconnected&&r.a.createElement("span",{className:R.redcircle})),r.a.createElement(x.a,{alignItems:"center",width:"100%"},r.a.createElement(u.a,null,e.sharename)),r.a.createElement(x.a,{flexShrink:1},e.isconnected&&r.a.createElement("a",{className:R.explore,href:"/".concat(e.sharename),target:"_blank"},r.a.createElement(g.a,{variant:"contained",color:"secondary",onClick:V},"Explore")),!e.isconnected&&r.a.createElement("a",{className:R.explore},r.a.createElement(g.a,{color:"primary",onClick:F(a)},"Connect")))),r.a.createElement(k.a,{className:R.displayblock},r.a.createElement(v.a,{component:N.a},r.a.createElement(S.a,{stickyHeader:!0},r.a.createElement(w.a,null,r.a.createElement(j.a,null,r.a.createElement(C.a,{classes:{root:R.tablebold}},"Property"),r.a.createElement(C.a,{classes:{root:R.tablebold}},"Value"))),r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement(C.a,{classes:{root:R.tablebold}},"Share Name"),r.a.createElement(C.a,null,e.sharename)),r.a.createElement(j.a,null,r.a.createElement(C.a,{classes:{root:R.tablebold}},"Share Location"),r.a.createElement(C.a,null,e.sharepath)),r.a.createElement(j.a,null,r.a.createElement(C.a,{classes:{root:R.tablebold}},"Share Type"),r.a.createElement(C.a,null,e.sharetype))))),r.a.createElement(g.a,{display:"inline-block",onClick:function(){!function(e){var a=l.filter((function(a){return a.sharename===e})),t=l.filter((function(a){return a.sharename!==e}));c(t),fetch("/admin/remove/"+a[0].sharename,{method:"post"}).then((function(e){return e.text()})).then((function(e){}))}(e.sharename)}},"Remove"))));var t}))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root"))},91:function(e,a,t){e.exports=t(103)},96:function(e,a,t){}},[[91,1,2]]]);
//# sourceMappingURL=main.7e5ecfff.chunk.js.map